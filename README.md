# crosvm-bootstrap

A collection of scripts and dockerfiles to generate Docker images meant to host
[crosvm](https://chromium.googlesource.com/chromiumos/platform/crosvm/).

## Quickstart
To build your system, you will need to follow these instructions:

1. Install all system dependencies:
```bash
./tools/install_system_dependencies.sh
```
2. Fetch the code:
```bash
./sync_code.sh
```
3. Kick off the build of the container and generate
a rootfs image using the default settings. 
```bash
./build.sh --rebuild-all
```
4. Launch the vm (XDG_RUNTIME_DIR and WAYLAND_DISPLAY are set during a previous step):
```bash
./launcher.sh $XDG_RUNTIME_DIR $WAYLAND_DISPLAY $DISPLAY
```
5. Once inside VM, call the following everytime you re-build containers or re-launch the VM
```bash
./setup-containers.sh 
```
6. Inside VM, star the container via: 
```bash
./launch.sh
```
7. Once inside container you can run demo application using the launch statment such as
the following for X11:
```bash
./launch-x es2gears_wayland
```

## How to customize
Edit files in `default-config/` to change the default settings for the images 
generated by the container. Override the config in an existing container image 
by mounting a the your `default-config/` with your modified config files on
`/app/config` in the container.

For more information about how to utilize the container, refer to the
[Dockerfile README](dockerfiles/README.md)
